# =============================================================================
# LOG4J2 CONFIGURATION FOR ZURICH UK TEST AUTOMATION SUITE
# =============================================================================

# Root Logger Configuration
rootLogger.level = INFO
rootLogger.appenderRef.console.ref = ConsoleAppender
rootLogger.appenderRef.file.ref = FileAppender

# =============================================================================
# CONSOLE APPENDER
# =============================================================================
appender.console.type = Console
appender.console.name = ConsoleAppender
appender.console.target = SYSTEM_OUT
appender.console.layout.type = PatternLayout
appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level [%c{1}] - %msg%n
appender.console.filter.threshold.type = ThresholdFilter
appender.console.filter.threshold.level = INFO

# =============================================================================
# FILE APPENDER
# =============================================================================
appender.file.type = RollingFile
appender.file.name = FileAppender
appender.file.fileName = test-output/logs/test-execution.log
appender.file.filePattern = test-output/logs/test-execution-%d{yyyy-MM-dd}-%i.log.gz
appender.file.layout.type = PatternLayout
appender.file.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level [%c{1.}] [%M:%L] - %msg%n
appender.file.policies.type = Policies
appender.file.policies.time.type = TimeBasedTriggeringPolicy
appender.file.policies.time.interval = 1
appender.file.policies.time.modulate = true
appender.file.policies.size.type = SizeBasedTriggeringPolicy
appender.file.policies.size.size = 10MB
appender.file.strategy.type = DefaultRolloverStrategy
appender.file.strategy.max = 10

# =============================================================================
# TEST RESULTS APPENDER (Separate file for test results)
# =============================================================================
appender.testresults.type = RollingFile
appender.testresults.name = TestResultsAppender
appender.testresults.fileName = test-output/logs/test-results.log
appender.testresults.filePattern = test-output/logs/test-results-%d{yyyy-MM-dd}.log
appender.testresults.layout.type = PatternLayout
appender.testresults.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} | %-5level | %c{1.} | %msg%n
appender.testresults.policies.type = Policies
appender.testresults.policies.time.type = TimeBasedTriggeringPolicy
appender.testresults.policies.time.interval = 1
appender.testresults.strategy.type = DefaultRolloverStrategy
appender.testresults.strategy.max = 30

# =============================================================================
# ERROR APPENDER (Separate file for errors only)
# =============================================================================
appender.error.type = RollingFile
appender.error.name = ErrorAppender
appender.error.fileName = test-output/logs/errors.log
appender.error.filePattern = test-output/logs/errors-%d{yyyy-MM-dd}.log
appender.error.layout.type = PatternLayout
appender.error.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] ERROR [%c{1.}] [%M:%L] - %msg%n%ex
appender.error.filter.threshold.type = ThresholdFilter
appender.error.filter.threshold.level = ERROR
appender.error.policies.type = Policies
appender.error.policies.time.type = TimeBasedTriggeringPolicy
appender.error.policies.time.interval = 1
appender.error.strategy.type = DefaultRolloverStrategy
appender.error.strategy.max = 30

# =============================================================================
# PERFORMANCE APPENDER (For performance metrics)
# =============================================================================
appender.performance.type = RollingFile
appender.performance.name = PerformanceAppender
appender.performance.fileName = test-output/logs/performance.log
appender.performance.filePattern = test-output/logs/performance-%d{yyyy-MM-dd}.log
appender.performance.layout.type = PatternLayout
appender.performance.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} | %msg%n
appender.performance.policies.type = Policies
appender.performance.policies.time.type = TimeBasedTriggeringPolicy
appender.performance.policies.time.interval = 1
appender.performance.strategy.type = DefaultRolloverStrategy
appender.performance.strategy.max = 10

# =============================================================================
# LOGGER CONFIGURATIONS
# =============================================================================

# Framework Loggers
logger.framework.name = com.capgemini.zurichuk.selenium
logger.framework.level = DEBUG
logger.framework.additivity = false
logger.framework.appenderRef.console.ref = ConsoleAppender
logger.framework.appenderRef.file.ref = FileAppender
logger.framework.appenderRef.error.ref = ErrorAppender

# Test Base Logger
logger.testbase.name = com.capgemini.zurichuk.selenium.TestBase
logger.testbase.level = INFO
logger.testbase.additivity = false
logger.testbase.appenderRef.console.ref = ConsoleAppender
logger.testbase.appenderRef.file.ref = FileAppender

# Utilities Loggers
logger.utilities.name = com.capgemini.zurichuk.selenium.utilities
logger.utilities.level = DEBUG
logger.utilities.additivity = false
logger.utilities.appenderRef.console.ref = ConsoleAppender
logger.utilities.appenderRef.file.ref = FileAppender

# Reporting Loggers
logger.reporting.name = com.capgemini.zurichuk.selenium.reporting
logger.reporting.level = INFO
logger.reporting.additivity = false
logger.reporting.appenderRef.console.ref = ConsoleAppender
logger.reporting.appenderRef.file.ref = FileAppender
logger.reporting.appenderRef.testresults.ref = TestResultsAppender

# Test Classes Logger
logger.tests.name = com.capgemini.zurichuk.selenium.tests
logger.tests.level = INFO
logger.tests.additivity = false
logger.tests.appenderRef.console.ref = ConsoleAppender
logger.tests.appenderRef.file.ref = FileAppender
logger.tests.appenderRef.testresults.ref = TestResultsAppender

# Performance Logger
logger.performance.name = PERFORMANCE
logger.performance.level = INFO
logger.performance.additivity = false
logger.performance.appenderRef.performance.ref = PerformanceAppender

# =============================================================================
# THIRD-PARTY LIBRARY LOGGERS
# =============================================================================

# Spring Framework
logger.spring.name = org.springframework
logger.spring.level = WARN
logger.spring.additivity = false
logger.spring.appenderRef.file.ref = FileAppender

# Hibernate
logger.hibernate.name = org.hibernate
logger.hibernate.level = WARN
logger.hibernate.additivity = false
logger.hibernate.appenderRef.file.ref = FileAppender

# Hibernate SQL (Enable for debugging)
logger.hibernatesql.name = org.hibernate.SQL
logger.hibernatesql.level = OFF
logger.hibernatesql.additivity = false
logger.hibernatesql.appenderRef.file.ref = FileAppender

# TestNG
logger.testng.name = org.testng
logger.testng.level = WARN
logger.testng.additivity = false
logger.testng.appenderRef.file.ref = FileAppender

# Selenium WebDriver
logger.selenium.name = org.openqa.selenium
logger.selenium.level = WARN
logger.selenium.additivity = false
logger.selenium.appenderRef.file.ref = FileAppender

# REST Assured
logger.restassured.name = io.restassured
logger.restassured.level = WARN
logger.restassured.additivity = false
logger.restassured.appenderRef.file.ref = FileAppender

# HTTP Client (for API debugging)
logger.httpclient.name = org.apache.http
logger.httpclient.level = WARN
logger.httpclient.additivity = false
logger.httpclient.appenderRef.file.ref = FileAppender

# WebDriverManager
logger.webdrivermanager.name = io.github.bonigarcia.wdm
logger.webdrivermanager.level = WARN
logger.webdrivermanager.additivity = false
logger.webdrivermanager.appenderRef.file.ref = FileAppender

# ExtentReports
logger.extent.name = com.aventstack.extentreports
logger.extent.level = WARN
logger.extent.additivity = false
logger.extent.appenderRef.file.ref = FileAppender

# =============================================================================
# ASYNC LOGGING CONFIGURATION (For better performance)
# =============================================================================

# Async Console Appender
appender.asyncconsole.type = Async
appender.asyncconsole.name = AsyncConsoleAppender
appender.asyncconsole.appenderRef.ref = ConsoleAppender
appender.asyncconsole.bufferSize = 512
appender.asyncconsole.includeLocation = false

# Async File Appender
appender.asyncfile.type = Async
appender.asyncfile.name = AsyncFileAppender
appender.asyncfile.appenderRef.ref = FileAppender
appender.asyncfile.bufferSize = 1024
appender.asyncfile.includeLocation = true

# =============================================================================
# CONFIGURATION PROPERTIES
# =============================================================================

# Log4j2 Configuration
configuration.status = WARN
configuration.monitorInterval = 30

# System Properties
property.logDir = test-output/logs
property.logPattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level [%c{1}] - %msg%n

# Shutdown Hook
shutdownHook.timeout = 30000

# =============================================================================
# FILTERS
# =============================================================================

# Noise Filter (to reduce log noise from certain packages)
filter.noise.type = RegexFilter
filter.noise.regex = .*webdriver.*|.*chrome.*|.*firefox.*
filter.noise.onMatch = DENY
filter.noise.onMismatch = NEUTRAL

# =============================================================================
# MARKERS FOR STRUCTURED LOGGING
# =============================================================================

# Test Execution Markers
# Use in code: logger.info(MarkerManager.getMarker("TEST_START"), "Test started");
# Available markers: TEST_START, TEST_END, TEST_PASS, TEST_FAIL, TEST_SKIP
# API_REQUEST, API_RESPONSE, PERFORMANCE, SCREENSHOT, ERROR

# =============================================================================
# CONTEXT MAP CONFIGURATION
# =============================================================================

# Thread Context Map is used for adding context information to logs
# Example usage in code:
# ThreadContext.put("testName", testName);
# ThreadContext.put("browser", browser);
# Then use in pattern: %X{testName} %X{browser}